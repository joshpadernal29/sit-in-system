<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Register Account</title>
</head>

<body>
    <!--navbar-->
    <nav class="navbar navbar-expand-sm bg-primary navbar-light navbar-nav">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">
                <img src="uclogo.png" class="rounded" style="width: 100px;">
                <span class="fw-bolder">CCS Sit-in-monitoring System</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="nav navbar-nav  nav-underline">
                    <li class="nav-item">
                        <a class="nav-link fw-bolder" href="login.html">Login</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link fw-bolder" href="register.html">Register</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!--end of navbar-->
    <!--main content-->

    <main>
        <div class="container mt-3">
            <div class="container-fluid min-vh-100 d-flex align-items-center bg-light">
                <div class="container">
                    <div class="row align-items-center g-5">
                        <div class="col-lg-5 text-center d-none d-lg-block">
                            <img src="ccsmainlogo2.png" alt="Logo" class="img-fluid mb-4" style="max-width: 300px;">
                            <h2 class="fw-bold">Welcome to CCS</h2>
                            <p class="text-muted">Join our community by completing the registration process in a few
                                easy steps.</p>
                        </div>

                        <div class="col-lg-7">
                            <div class="card border-0 shadow-lg p-4">
                                <div class="card-body">
                                    <div class="mb-4">
                                        <h3 class="fw-bold mb-1">Register Account</h3>
                                        <p class="text-secondary small" id="step-indicator">Step 1 of 4: Personal
                                            Info</p>
                                        <div class="progress" style="height: 6px;">
                                            <div id="form-progress" class="progress-bar bg-success" style="width: 25%;">
                                            </div>
                                        </div>
                                    </div>

                                    <form id="multiStepForm" action="#">

                                        <div class="form-step" id="step-1">
                                            <div class="form-floating mb-3">
                                                <input type="text" class="form-control" id="student-id" placeholder="ID"
                                                    required>
                                                <label>Student ID Number</label>
                                            </div>
                                            <div class="row g-2">
                                                <div class="col-md-4">
                                                    <div class="form-floating mb-3">
                                                        <input type="text" class="form-control" id="fname"
                                                            placeholder="First" required>
                                                        <label>Firstname</label>
                                                    </div>
                                                </div>
                                                <div class="col-md-3">
                                                    <div class="form-floating mb-3">
                                                        <input type="text" class="form-control" id="mname"
                                                            placeholder="M">
                                                        <label class="text-nowrap">M.I. <span
                                                                class="small opacity-50">(Optional)</span></label>
                                                    </div>
                                                </div>
                                                <div class="col-md-5">
                                                    <div class="form-floating mb-3">
                                                        <input type="text" class="form-control" id="lname"
                                                            placeholder="Last" required>
                                                        <label>Lastname</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="d-grid">
                                                <button type="button" class="btn btn-primary btn-lg"
                                                    onclick="goToStep(2)">Continue</button>
                                            </div>
                                        </div>

                                        <div class="form-step d-none" id="step-2">
                                            <div class="form-floating mb-3">
                                                <input type="text" class="form-control" id="regCourse"
                                                    placeholder="Course" required>
                                                <label>Course / Program</label>
                                            </div>
                                            <div class="form-floating mb-3">
                                                <select class="form-select" id="regCourseLvl">
                                                    <option value="1">First Year</option>
                                                    <option value="2">Second Year</option>
                                                    <option value="3">Third Year</option>
                                                    <option value="4">Fourth Year</option>
                                                </select>
                                                <label>Year Level</label>
                                            </div>
                                            <div class="d-flex gap-2">
                                                <button type="button" class="btn btn-outline-secondary w-50"
                                                    onclick="goToStep(1)">Back</button>
                                                <button type="button" class="btn btn-primary w-50"
                                                    onclick="goToStep(3)">Next</button>
                                            </div>
                                        </div>

                                        <div class="form-step d-none" id="step-3">
                                            <div class="form-floating mb-3">
                                                <input type="email" class="form-control" id="regEmail"
                                                    placeholder="Email" required>
                                                <label>School Email Address</label>
                                            </div>
                                            <div class="form-floating mb-3">
                                                <textarea class="form-control" id="regAddress" style="height: 100px"
                                                    placeholder="Address"></textarea>
                                                <label>Home Address</label>
                                            </div>
                                            <div class="d-flex gap-2">
                                                <button type="button" class="btn btn-outline-secondary w-50"
                                                    onclick="goToStep(2)">Back</button>
                                                <button type="button" class="btn btn-primary w-50"
                                                    onclick="goToStep(4)">Next</button>
                                            </div>
                                        </div>

                                        <div class="form-step d-none" id="step-4">
                                            <div class="form-floating mb-3">
                                                <input type="password" class="form-control" id="regPass"
                                                    placeholder="Password" required>
                                                <label>Create Password</label>
                                            </div>
                                            <div class="form-floating mb-4">
                                                <input type="password" class="form-control" id="confPass"
                                                    placeholder="Confirm" required>
                                                <label>Confirm Password</label>
                                            </div>
                                            <div class="d-flex gap-2">
                                                <button type="button" class="btn btn-outline-secondary w-50"
                                                    onclick="goToStep(3)">Back</button>
                                                <button type="submit" class="btn btn-success w-50">Finish
                                                    Registration</button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </main>
    <!--end of main content-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function goToStep(stepNumber) {
            const currentStepNum = stepNumber > 1 ? stepNumber - 1 : 1;
            const currentStepEl = document.getElementById('step-' + currentStepNum);

            // 1. Get all required inputs in the CURRENT step
            const inputs = currentStepEl.querySelectorAll('input[required], select[required], textarea[required]');

            // 2. Check validity (only if moving forward)
            let allValid = true;
            if (stepNumber > currentStepNum) {
                inputs.forEach(input => {
                    if (!input.checkValidity()) {
                        input.reportValidity(); // Shows the "Please fill out this field" bubble
                        allValid = false;
                    }
                });
            }

            // 3. If valid (or moving backward), proceed
            if (allValid || stepNumber < currentStepNum) {
                // Hide all steps
                document.querySelectorAll('.form-step').forEach(step => step.classList.add('d-none'));

                // Show target step
                document.getElementById('step-' + stepNumber).classList.remove('d-none');

                // Update Progress Bar
                const progress = (stepNumber / 4) * 100;
                const progressBar = document.getElementById('form-progress');
                progressBar.style.width = progress + '%';

                // Change color based on completion
                if (stepNumber === 4) {
                    progressBar.classList.replace('bg-success', 'bg-info');
                } else {
                    progressBar.classList.replace('bg-info', 'bg-success');
                }

                // Update Text
                const titles = ["Personal Identity", "Academic Details", "Contact Information", "Security"];
                document.getElementById('step-indicator').innerText = `Step ${stepNumber} of 4: ${titles[stepNumber - 1]}`;
            }
        }
    </script>
</body>

</html>